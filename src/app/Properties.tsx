"use client";

import { Container } from "@/components/Container";
import { Box, Flex, Grid, Text } from "@chakra-ui/react";
import React, { useLayoutEffect, useRef, useState } from "react";

const allProperties = [
  {
    name: "Provable",
    icon: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width={40}
        height={40}
        fill="none"
      >
        <path
          fill="#fff"
          fillRule="evenodd"
          d="M20 3.362c.835 0 1.512.678 1.512 1.513V7.9a1.513 1.513 0 0 1-3.025 0V4.875c0-.835.678-1.513 1.513-1.513ZM8.343 8.343c.59-.59 1.548-.59 2.139 0l2.139 2.139a1.512 1.512 0 1 1-2.14 2.139l-2.138-2.139a1.513 1.513 0 0 1 0-2.139Zm23.53 0c.59.59.59 1.548 0 2.139l-2.14 2.139a1.512 1.512 0 1 1-2.138-2.139l2.139-2.139c.59-.59 1.548-.59 2.139 0ZM20 13.95a6.05 6.05 0 1 0 0 12.1 6.05 6.05 0 0 0 0-12.1ZM10.925 20a9.075 9.075 0 1 1 18.15 0 9.075 9.075 0 0 1-18.15 0Zm-7.563 0c0-.835.677-1.512 1.513-1.512H7.9a1.513 1.513 0 0 1 0 3.024H4.875A1.513 1.513 0 0 1 3.362 20Zm27.225 0c0-.835.678-1.512 1.513-1.512h3.025a1.513 1.513 0 0 1 0 3.024H32.1A1.513 1.513 0 0 1 30.587 20Zm-17.966 7.594c.591.59.591 1.548 0 2.14l-2.139 2.138a1.512 1.512 0 1 1-2.138-2.139l2.139-2.139c.59-.59 1.548-.59 2.138 0Zm14.973 0c.59-.59 1.548-.59 2.139 0l2.139 2.14a1.512 1.512 0 1 1-2.14 2.138l-2.138-2.139a1.513 1.513 0 0 1 0-2.139ZM20 30.587c.835 0 1.512.678 1.512 1.513v3.025a1.513 1.513 0 0 1-3.025 0V32.1c0-.835.678-1.513 1.513-1.513Z"
          clipRule="evenodd"
        />
      </svg>
    ),
    bgPos: "top left",
  },
  {
    name: "Native",
    icon: (
      <svg
        width="40"
        height="40"
        viewBox="0 0 40 40"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M20.2994 7.51746C20.102 7.4755 19.8979 7.4755 19.7005 7.51746C19.53 7.55371 19.3372 7.64499 18.4153 8.17725L10.5511 12.7177C9.62874 13.2502 9.45518 13.3697 9.33896 13.4988C9.20419 13.6485 9.1021 13.8253 9.03962 14.0176C8.98588 14.183 8.96914 14.3941 8.96914 15.4605V24.5396C8.96914 25.606 8.98587 25.8168 9.03962 25.9822C9.10199 26.1741 9.20395 26.3507 9.33896 26.5007C9.45547 26.6301 9.62983 26.7503 10.5526 27.2831L18.4153 31.8227C19.3375 32.355 19.53 32.4463 19.7005 32.4826C19.8979 32.5245 20.102 32.5245 20.2994 32.4826C20.4699 32.4463 20.6625 32.355 21.5846 31.8227L29.4474 27.2831C30.3697 26.7506 30.5441 26.6302 30.6607 26.5007C30.796 26.3503 30.898 26.1736 30.9602 25.9822C31.0137 25.8178 31.0304 25.6077 31.0304 24.5461V15.4537C31.0304 14.392 31.0137 14.182 30.9602 14.0176C30.8979 13.8258 30.7958 13.6489 30.6607 13.4988C30.5455 13.3709 30.3728 13.2519 29.4569 12.7231L21.5832 8.17725C20.6599 7.64416 20.4696 7.55363 20.2994 7.51746ZM19.1017 4.70039C19.6939 4.57452 20.3061 4.57452 20.8982 4.70039C21.5739 4.84401 22.1841 5.19733 22.8785 5.5994C22.9263 5.62708 22.9745 5.655 23.0232 5.6831L30.8968 10.2289C30.9451 10.2568 30.9931 10.2844 31.0406 10.3118C31.73 10.7086 32.34 11.0598 32.8009 11.5717C33.2059 12.0215 33.5122 12.5517 33.6993 13.1276C33.9124 13.7835 33.9115 14.4885 33.9105 15.2871C33.9105 15.3422 33.9104 15.3977 33.9104 15.4537V24.5461C33.9104 24.602 33.9105 24.6576 33.9105 24.7126C33.9115 25.5112 33.9124 26.2162 33.6993 26.8722C33.5121 27.4484 33.2057 27.9783 32.8009 28.4278C32.338 28.9419 31.7261 29.2942 31.0283 29.696C30.9817 29.7229 30.9347 29.7499 30.8874 29.7773L23.0246 34.3168C22.9777 34.3439 22.9312 34.3708 22.8851 34.3975C22.1874 34.8014 21.5753 35.1557 20.8982 35.2996C20.3061 35.4255 19.6939 35.4255 19.1017 35.2996C18.4246 35.1557 17.8126 34.8014 17.1149 34.3976C17.0688 34.3708 17.0223 34.3439 16.9753 34.3168L9.11258 29.7773C9.06474 29.7496 9.01728 29.7223 8.9702 29.6952C8.27326 29.2939 7.66138 28.9416 7.1987 28.4278C6.79359 27.9779 6.48765 27.4479 6.30058 26.8722C6.08712 26.2152 6.088 25.5092 6.089 24.7069C6.08907 24.6516 6.08914 24.5959 6.08914 24.5396V15.4605C6.08914 15.4043 6.08907 15.3485 6.089 15.2932C6.088 14.4909 6.08712 13.7846 6.30058 13.1276C6.48753 12.5522 6.79334 12.0219 7.1987 11.5717C7.66072 11.0586 8.2718 10.7068 8.96636 10.3069C9.01422 10.2794 9.06248 10.2516 9.11111 10.2235L16.9753 5.6831C17.022 5.65616 17.0682 5.62939 17.1141 5.60284C17.8123 5.19868 18.4244 4.84436 19.1017 4.70039ZM19.9998 17.1199C18.4092 17.1199 17.1198 18.4093 17.1198 19.9999C17.1198 21.5904 18.4092 22.8799 19.9998 22.8799C21.5903 22.8799 22.8798 21.5904 22.8798 19.9999C22.8798 18.4093 21.5903 17.1199 19.9998 17.1199ZM14.2398 19.9999C14.2398 16.8187 16.8186 14.2399 19.9998 14.2399C23.1809 14.2399 25.7598 16.8187 25.7598 19.9999C25.7598 23.181 23.1809 25.7599 19.9998 25.7599C16.8186 25.7599 14.2398 23.181 14.2398 19.9999Z"
          fill="white"
        />
      </svg>
    ),
    bgPos: "top center",
  },
  {
    name: "Fast",
    icon: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width={40}
        height={40}
        fill="none"
      >
        <path
          fill="#fff"
          d="M20 6.5a1.35 1.35 0 1 0 0 2.7c5.965 0 10.8 4.835 10.8 10.8 0 5.965-4.835 10.8-10.8 10.8-5.965 0-10.8-4.835-10.8-10.8 0-2.739 1.018-5.24 2.7-7.144v2.419a1.35 1.35 0 1 0 2.7 0v-5.4a1.35 1.35 0 0 0-1.35-1.35h-5.4a1.35 1.35 0 0 0 0 2.7h1.89A13.45 13.45 0 0 0 6.5 20c0 7.456 6.044 13.5 13.5 13.5S33.5 27.456 33.5 20 27.456 6.5 20 6.5Z"
        />
      </svg>
    ),
    bgPos: "top right",
  },
  {
    name: "Robust",
    icon: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width={40}
        height={40}
        fill="none"
      >
        <path
          fill="#fff"
          fillRule="evenodd"
          d="M29.048 9.536C28.623 9.5 28.065 9.5 27.2 9.5H12.8c-.865 0-1.423.001-1.848.036-.408.033-.56.09-.633.127a1.498 1.498 0 0 0-.655.656c-.038.074-.095.225-.128.633-.035.425-.036.983-.036 1.848V23h21V12.795c0-.863-.001-1.42-.036-1.845-.033-.407-.09-.557-.127-.631a1.501 1.501 0 0 0-.657-.656c-.074-.037-.225-.094-.632-.127Zm4.436 14.742c.016-.448.016-.96.016-1.532V12.738c0-.79 0-1.47-.046-2.032-.048-.592-.155-1.182-.444-1.75a4.502 4.502 0 0 0-1.968-1.966c-.567-.289-1.157-.396-1.75-.444-.561-.046-1.243-.046-2.034-.046H12.743c-.791 0-1.473 0-2.036.046-.593.048-1.183.155-1.75.444A4.499 4.499 0 0 0 6.99 8.957c-.289.567-.396 1.157-.444 1.75-.046.563-.046 1.245-.046 2.035v10c0 .573 0 1.087.016 1.535-.01.073-.016.147-.016.223v.648c0 .378 0 .747.025 1.06.028.343.094.748.302 1.155.29.568.75 1.024 1.31 1.31.407.207.811.273 1.154.301.314.026.685.026 1.066.026h19.285c.38 0 .752 0 1.066-.026a3.036 3.036 0 0 0 1.154-.302 2.994 2.994 0 0 0 1.31-1.309c.208-.407.274-.811.302-1.154.026-.315.026-.686.026-1.067V24.5c0-.076-.006-.15-.016-.223ZM14 32a1.5 1.5 0 0 1 1.5-1.5h9a1.5 1.5 0 0 1 0 3h-9A1.5 1.5 0 0 1 14 32Z"
          clipRule="evenodd"
        />
      </svg>
    ),
    bgPos: "bottom left",
  },
  {
    name: "Scalable",
    icon: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width={40}
        height={40}
        fill="none"
      >
        <path
          fill="#fff"
          d="M16.832 7.328a1.584 1.584 0 1 0-3.168 0v4.752c0 .875-.709 1.584-1.584 1.584H7.328a1.584 1.584 0 0 0 0 3.168h4.752a4.752 4.752 0 0 0 4.752-4.752V7.328ZM23.168 32.672a1.584 1.584 0 1 0 3.168 0V27.92c0-.875.709-1.584 1.584-1.584h4.752a1.584 1.584 0 0 0 0-3.168H27.92a4.752 4.752 0 0 0-4.752 4.752v4.752ZM34.256 15.248c0 .875-.71 1.584-1.584 1.584H27.92a4.752 4.752 0 0 1-4.752-4.752V7.328a1.584 1.584 0 1 1 3.168 0v4.752c0 .875.709 1.584 1.584 1.584h4.752c.875 0 1.584.71 1.584 1.584ZM7.328 23.168a1.584 1.584 0 0 0 0 3.168h4.752c.875 0 1.584.71 1.584 1.584v4.752a1.584 1.584 0 0 0 3.168 0V27.92a4.752 4.752 0 0 0-4.752-4.752H7.328Z"
        />
      </svg>
    ),
    bgPos: "bottom center",
  },
  {
    name: "Composable",
    icon: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width={40}
        height={40}
        fill="none"
      >
        <path
          fill="#fff"
          fillRule="evenodd"
          d="M22.75 9A2.75 2.75 0 0 0 20 11.75c0 .65-.224 1.296-.628 1.802-.412.516-1.073.948-1.914.948H14.5v2.958c0 .841-.432 1.502-.948 1.915A2.913 2.913 0 0 1 11.75 20a2.75 2.75 0 1 0 0 5.5c.65 0 1.296.224 1.802.627.516.413.948 1.074.948 1.915V31H31v-2.75a5.5 5.5 0 0 1 0-11V14.5h-2.958c-.841 0-1.503-.432-1.915-.948a2.913 2.913 0 0 1-.627-1.802A2.75 2.75 0 0 0 22.75 9Zm-5.5 2.75a5.5 5.5 0 1 1 11 0H31a2.75 2.75 0 0 1 2.75 2.75v2.958c0 .841-.432 1.502-.948 1.915A2.913 2.913 0 0 1 31 20a2.75 2.75 0 1 0 0 5.5c.65 0 1.297.224 1.802.627.516.413.948 1.074.948 1.915V31A2.75 2.75 0 0 1 31 33.75H14.5A2.75 2.75 0 0 1 11.75 31v-2.75a5.5 5.5 0 0 1 0-11V14.5a2.75 2.75 0 0 1 2.75-2.75h2.75Z"
          clipRule="evenodd"
        />
      </svg>
    ),
    bgPos: "bottom right",
  },
];

export function Properties() {
  const [gridSize, setGridSize] = useState("");
  const container = useRef<HTMLDivElement>(null);

  useLayoutEffect(() => {
    if (!container.current) return;

    const containerSize = container.current.getBoundingClientRect();

    setGridSize(`${containerSize.width}px ${containerSize.height}px`);
  }, []);

  return (
    <Container>
      <Grid
        gridTemplateColumns="repeat(3, 1fr)"
        gap={5}
        ref={container}
        position="relative"
      >
        {allProperties.map((property, index) => {
          return (
            <Flex
              borderRadius={16}
              p={6}
              flexDir="column"
              justifyContent="space-between"
              alignItems="flex-end"
              key={index}
              aspectRatio="409 / 279"
              bg="url('/images/tile-bg.png')"
              bgSize={gridSize}
              bgPos={property.bgPos}
            >
              {property.icon}
              <Text textStyle="title3" alignSelf="flex-start">
                {property.name}
              </Text>
            </Flex>
          );
        })}
        <Box
          position="absolute"
          left={-50}
          right={-50}
          top={-50}
          bottom={-50}
          zIndex={-1}
          bg="#361AAD"
          opacity="0.5"
          boxShadow="#021531 0px 0px 40px 40px inset"
        />
      </Grid>
    </Container>
  );
}
